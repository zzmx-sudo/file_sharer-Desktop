{"version":3,"sources":["webpack:///./src/network/request.js","webpack:///./src/network/download.js","webpack:///./src/components/content/menubar/MenuBar.vue?3313","webpack:///./src/components/content/menubar/MenuBar.vue","webpack:///src/components/content/menubar/MenuBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?fcc3","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/network/upload.js","webpack:///./src/store/serviceStorage.js","webpack:///./src/utils/public_func.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["request","__webpack_require__","axios","create","baseURL","timeout","interceptors","use","config","err","response","result","data","uuid","get","_ref","DownloadChunk","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","a","mark","_callee","secret_key","pwd","start","end","url","chunk_size","hit_log","arguments","length","undefined","wrap","_context","prev","next","post","ciphertext","headers","Range","responseType","sent","errno","abrupt","succed","errmsg","Blob","size","stop","this","_x","_x2","_x3","_x4","_x5","apply","menubar_MenuBar","render","_vm","_h","$createElement","_c","_self","attrs","collapse","isCollapse","default-active","$route","path","index","on","click","$event","itemClick","staticClass","_v","slot","staticRenderFns","content_menubar_MenuBar","normalizeComponent","name","methods","link","$router","replace","ssrContext","App","components","MenuBar","show_backup","show_msg_box","created","_this","PAUSE_ALL_DOWNLOAD_HISTORY","PAUSE_ALL_UPLOAD_HISTORY","document","title","$alert","showClose","center","confirmButtonText","callback","action","extends_default","Object","vuex_esm","selectortype_template_index_0_src_App","id","_e","height","width","src_App","App_normalizeComponent","Vue","Router","originalPush","prototype","push","location","call","catch","originalReplace","_ref2","_ref3","router","routes","redirect","component","e","then","bind","mode","serviceStorage","set","key","localStorage","setItem","getItem","remove","removeItem","clear","BROWSE_PARAMS","BROWSE_PREFIX","BROWSE_HISTORY","DOWNLOAD_HISTORY","DOWNLOAD_PREFIX","UPLOAD_HISTORY","UPLOAD_PREFIX","UploadChunk","asyncToGenerator_default","regenerator_default","chunk","file_name","chunk_id","curr_path","formData","FormData","append","Content-Type","_x6","_x7","UploadMerge","_callee2","chunk_count","_context2","_x9","_x10","_x11","_x12","_x13","_x14","UploadRemove","_callee3","_context3","console","log","_x15","_x16","_x17","_x18","_x19","deepClone","obj","typeof_default","copy","Array","isArray","i","hasOwnProperty","copyHistoryRMChunks","download_history","download_history_","values_default","forEach","download_item","merged","succed_chunks","fill","mergeChunks","chunks","blob","documentElem","createElement","href","window","URL","createObjectURL","download","body","appendChild","removeChild","revokeObjectURL","copyHistoryRMFile","upload_history","upload_history_","upload_item","file","file_id","Vuex","store","Store","strict","process","state","browse_params","JSON","parse","browse_history","mutations","SET_BROWSE_PARAMS","params","stringify_default","SET_BROWSE_HISTORY","UPDATE_BROWSE_HISTORY","browse_data","idx","findIndex","splice","REMOVE_BROWSE_HISTORY","CLEAR_BROWSE_HISTORY","UPDATE_DOWNLOAD_HISTORY","download_data","UPDATE_DOWNLOAD_ITEM","new_item","PAUSE_DOWNLOAD_ITEM","is_pause","REMOVE_DOWNLOAD_ITEM","delete","CLEAR_DOWNLOAD_HISTORY","UPDATE_UPLOAD_HISTORY","upload_data","UPDATE_UPLOAD_ITEM","PAUSE_UPLOAD_ITEM","REMOVE_UPLOAD_ITEM","CLEAR_UPLOAD_HISTORY","actions","START_DOWNLOAD_FILE","context","res","commit","Math","min","file_size","failed","err_msg","REDOWNLOAD_FILE","_this2","START_UPLOAD_FILE","_this3","_res","slice","REUPLOAD_FILE","_this4","_callee4","_res2","_context4","REMOVE_UPLOAD_FILE","_this5","_callee5","_context5","getters","download_list","upload_list","modules","productionTip","Menu","MenuItem","Container","Header","Aside","Main","Button","ButtonGroup","Table","TableColumn","Alert","Icon","Progress","MessageBox","Message","Loading","alert","$prompt","prompt","$confirm","confirm","$message","el","template"],"mappings":"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","file":"js/app.9e14892987d158decccd.js","sourcesContent":["import axios from \"axios\"\n\nconst request = axios.create({\n  baseURL: 'http://127.0.0.1',\n  timeout: 5000\n})\n\nrequest.interceptors.request.use(config => {\n  return config\n}, err => {\n  return err\n})\n\nrequest.interceptors.response.use(result => {\n  return result.data\n}, err => {\n  return err\n})\n\nexport default request;\n\n\n\n// WEBPACK FOOTER //\n// ./src/network/request.js","import request from \"./request\";\n\nexport function GetFileSize(uuid) {\n  return request.get('/file_size/' + uuid)\n}\n\nexport async function DownloadChunk(uuid, secret_key, pwd, start, end, hit_log=false) {\n  const url = !hit_log ? '/download/' + uuid : '/download/' + uuid + \"?hit_log=true\";\n  const response = await request.post(\n    url,\n    {\n      'secret_key': secret_key,\n      'ciphertext': pwd\n    },\n    {\n      headers: { Range: `bytes=${start}-${end}` },\n      responseType: 'blob',\n    }\n  );\n  if ( response.errno != undefined ) {\n    return {succed: false, data: response.errmsg}\n  }\n  if ( !response instanceof Blob) {\n    return {succed: false, data: \"后端异常, 返回非预期数据类型\"}\n  }\n  const chunk_size = end - start;\n  if ( chunk_size > 0 && chunk_size != response.size ) {\n    return {succed: false, data: \"下载片段失败, 服务器网络异常\"}\n  }\n  return {succed: true, data: response}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/network/download.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-menu',{attrs:{\"collapse\":_vm.isCollapse,\"default-active\":_vm.$route.path}},[_c('el-menu-item',{attrs:{\"index\":\"/browse\"},on:{\"click\":function($event){return _vm.itemClick('/browse')}}},[_c('i',{staticClass:\"el-icon-mobile-phone\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"文件列表\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/history\"},on:{\"click\":function($event){return _vm.itemClick('/history')}}},[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"浏览历史\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/downloads\"},on:{\"click\":function($event){return _vm.itemClick('/downloads')}}},[_c('i',{staticClass:\"el-icon-download\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"下载记录\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/uploads\"},on:{\"click\":function($event){return _vm.itemClick('/uploads')}}},[_c('i',{staticClass:\"el-icon-upload2\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"上传记录\")])]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/settings\"},on:{\"click\":function($event){return _vm.itemClick('/settings')}}},[_c('i',{staticClass:\"el-icon-setting\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"设置\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5e29923c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/content/menubar/MenuBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5e29923c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MenuBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5e29923c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MenuBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5e29923c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/content/menubar/MenuBar.vue\n// module id = null\n// module chunks = ","<template>\n  <el-menu :collapse=\"isCollapse\" :default-active=\"$route.path\">\n    <el-menu-item index=\"/browse\" @click=\"itemClick('/browse')\">\n      <i class=\"el-icon-mobile-phone\"></i>\n      <span slot=\"title\">文件列表</span>\n    </el-menu-item>\n    <el-menu-item index=\"/history\" @click=\"itemClick('/history')\">\n      <i class=\"el-icon-time\"></i>\n      <span slot=\"title\">浏览历史</span>\n    </el-menu-item>\n    <el-menu-item index=\"/downloads\" @click=\"itemClick('/downloads')\">\n      <i class=\"el-icon-download\"></i>\n      <span slot=\"title\">下载记录</span>\n    </el-menu-item>\n    <el-menu-item index=\"/uploads\" @click=\"itemClick('/uploads')\">\n      <i class=\"el-icon-upload2\"></i>\n      <span slot=\"title\">上传记录</span>\n    </el-menu-item>\n    <el-menu-item index=\"/settings\" @click=\"itemClick('/settings')\">\n      <i class=\"el-icon-setting\"></i>\n      <span slot=\"title\">设置</span>\n    </el-menu-item>\n  </el-menu>\n</template>\n\n<script>\n  export default {\n    name: \"MenuBar\",\n    data() {\n      return {\n        isCollapse: true\n      };\n    },\n    methods: {\n      itemClick(link) {\n        this.$router.replace(link);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/content/menubar/MenuBar.vue","<template>\n  <div id=\"app\">\n    <div>\n      <el-container v-if=\"!show_msg_box\">\n        <el-header height=\"40px\">File-Sharer</el-header>\n\t\t\t  <el-container>\n\t\t\t    <el-aside width=\"65px\">\n            <menu-bar />\n          </el-aside>\n\t\t\t    <el-main>\n            <router-view />\n          </el-main>\n\t\t\t  </el-container>\n\t\t\t</el-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MenuBar from './components/content/menubar/MenuBar.vue';\nimport { mapMutations } from \"vuex\";\n\nexport default {\n  name: 'App',\n  components: {\n    MenuBar\n  },\n  data() {\n    return {\n      show_backup: true,\n      show_msg_box: true\n    }\n  },\n  created() {\n    // 将所有未完成下载置为暂停\n    this.PAUSE_ALL_DOWNLOAD_HISTORY();\n    // 将所有未完成上传置为暂停\n    this.PAUSE_ALL_UPLOAD_HISTORY();\n    document.title = \"File-Sharer\";\n    this.$alert('请勿在任何情况下刷新页面,否则上传/下载会暂停(下载进度也会消失),且需重新扫码!!!', '温馨提示', {\n      showClose: false,\n      center: true,\n      confirmButtonText: '确定并进入',\n      callback: action => {\n        this.show_msg_box = false;\n        this.$router.replace('/browse');\n      }\n    });\n  },\n  methods: {\n    ...mapMutations([\"PAUSE_ALL_DOWNLOAD_HISTORY\", \"PAUSE_ALL_UPLOAD_HISTORY\"]),\n  }\n}\n</script>\n\n<style>\n/* 修复手机浏览器上MessageBox显示不全和位置靠顶的问题 */\n@media screen and (max-width: 750px) {\n  .el-message-box {\n    width: 80% !important;\n  }\n}\n\n.el-container{\n  height: 100%;\n}\n\nhtml,body,#app{\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n\n.el-header {\n  background-color: #81C7FF;\n  color: #fff;\n  text-align: center;\n  line-height: 40px;\n}\n\n.el-aside {\n  color: #333;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',[(!_vm.show_msg_box)?_c('el-container',[_c('el-header',{attrs:{\"height\":\"40px\"}},[_vm._v(\"File-Sharer\")]),_vm._v(\" \"),_c('el-container',[_c('el-aside',{attrs:{\"width\":\"65px\"}},[_c('menu-bar')],1),_vm._v(\" \"),_c('el-main',[_c('router-view')],1)],1)],1):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00f5ce4c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-00f5ce4c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00f5ce4c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\n/* 解决双击切换路由报错 */\n// 解决双击时路由通过push报错\nconst originalPush = Router.prototype.push\nRouter.prototype.push = function (location) {\n  return originalPush.call(this, location).catch(err => { err })\n}\n// 解决双击时路由通过replace报错\nconst originalReplace = Router.prototype.replace\nRouter.prototype.replace = function (location) {\n  return originalReplace.call(this, location).catch(err => { err })\n}\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/browse'\n    },\n    {\n      path: '/browse',\n      name: 'Browse',\n      component: () => import('@/views/browse/Browse')\n    },\n    {\n      path: '/history',\n      name: 'History',\n      component: () => import('@/views/history/History')\n    },\n    {\n      path: '/downloads',\n      name: 'Downloads',\n      component: () => import('@/views/downloads/Downloads')\n    },\n    {\n      path: '/uploads',\n      name: 'Uploads',\n      component: () => import('@/views/uploads/Uploads')\n    },\n    {\n      path: '/settings',\n      name: \"Settings\",\n      component: () => import('@/views/settings/Settings')\n    }\n  ],\n  mode: 'history'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import request from \"./request\";\n\nexport async function UploadChunk(\n  uuid, secret_key, pwd, chunk, file_name,\n  chunk_id, curr_path, hit_log=false\n) {\n  const url = !hit_log ? '/upload/' + uuid : '/upload/' + uuid + \"?hit_log=true\"\n  const formData = new FormData();\n  formData.append(\"secret_key\", secret_key);\n  formData.append(\"ciphertext\", pwd);\n  formData.append(\"file\", chunk);\n  formData.append(\"file_name\", file_name);\n  formData.append(\"chunk_id\", chunk_id);\n  formData.append(\"curr_path\", curr_path);\n  const response = await request.post(\n    url,\n    formData,\n    {\n      headers: { 'Content-Type': 'multipart/form-data' }\n    }\n  );\n  if ( response.errno != 200 && response.errno != 4006 ) {\n    return {succed: false, data: response.errmsg}\n  }\n  return {succed: true, data: response.errmsg}\n}\n\nexport async function UploadMerge(\n  uuid, secret_key, pwd, file_name, chunk_count, curr_path\n) {\n  const formData = new FormData();\n  formData.append(\"secret_key\", secret_key);\n  formData.append(\"ciphertext\", pwd);\n  formData.append(\"file_name\", file_name);\n  formData.append(\"chunk_count\", chunk_count);\n  formData.append(\"curr_path\", curr_path);\n  const response = await request.post(\n    '/upload/merge/' + uuid,\n    formData,\n    {\n      headers: { 'Content-Type': 'multipart/form-data' }\n    }\n  );\n  if ( response.errno != 200 ) {\n    return {succed: false, data: response.errmsg}\n  }\n  return {succed: true, data: response.errmsg}\n}\n\nexport async function UploadRemove(\n  uuid, secret_key, pwd, file_name, curr_path\n) {\n  const formData = new FormData();\n  formData.append(\"secret_key\", secret_key);\n  formData.append(\"ciphertext\", pwd);\n  formData.append(\"file_name\", file_name);\n  formData.append(\"curr_path\", curr_path);\n  const response = await request.post(\n    '/upload/remove/' + uuid,\n    formData,\n    {\n      headers: { 'Content-Type': 'multipart/form-data' }\n    }\n  );\n  console.log(response);\n  if ( response.errno != 200 ) {\n    return {succed: false, data: response.errmsg}\n  }\n  return {succed: true, data: response.errmsg}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/network/upload.js","// 本地缓存服务\nconst PREFIX = \"fileSharer_\"\n\n// 浏览历史模块\nconst BROWSE_PREFIX = `${PREFIX}browse_`\nconst BROWSE_PARAMS = `${BROWSE_PREFIX}params`\nconst BROWSE_HISTORY = `${BROWSE_PREFIX}history`\n\n// 下载模块\nconst DOWNLOAD_PREFIX = `${PREFIX}download_`\nconst DOWNLOAD_HISTORY = `${DOWNLOAD_PREFIX}history`\n\n// 上传模块\nconst UPLOAD_PREFIX = `${PREFIX}upload_`\nconst UPLOAD_HISTORY = `${UPLOAD_PREFIX}history`\n\nconst set = (key, data) => {\n  localStorage.setItem(key, data);\n}\n\nconst get = (key) => {\n  return localStorage.getItem(key);\n}\n\nconst remove = (key) => {\n  localStorage.removeItem(key);\n}\n\nconst clear = () => {\n  localStorage.clear()\n}\n\nexport default {\n  set,\n  get,\n  remove,\n  clear,\n  BROWSE_PARAMS,\n  BROWSE_HISTORY,\n  DOWNLOAD_HISTORY,\n  UPLOAD_HISTORY\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/serviceStorage.js","export function deepClone(obj) {\n  if (typeof obj !== 'object' || obj === null) {\n    return obj;\n  }\n\n  let copy;\n\n  if (Array.isArray(obj)) {\n    copy = [];\n    for (let i = 0; i < obj.length; i++) {\n      copy.push(deepClone(obj[i]));\n    }\n  } else {\n    copy = {};\n    for (let key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        copy[key] = deepClone(obj[key]);\n      }\n    }\n  }\n\n  return copy;\n}\n\nexport function copyHistoryRMChunks(download_history) {\n  if ( download_history == null ) {\n    return download_history;\n  }\n  let download_history_ = {};\n  Object.values(download_history).forEach(obj => {\n    let download_item = deepClone(obj);\n    // 下载完成的保留下载进度, 未完成的将下载进度置空\n    if ( download_item.merged ) {\n      download_item.succed_chunks = new Array(download_item.chunk_count).fill(0);\n    } else {\n      download_item.succed_chunks = [];\n    }\n    download_history_[download_item.uuid] = download_item;\n  })\n  return download_history_;\n}\n\nexport function mergeChunks(chunks, file_name) {\n  const blob = new Blob(chunks);\n  const documentElem = document.createElement('a');\n  const href = window.URL.createObjectURL(blob);\n  documentElem.href = href;\n  documentElem.download = file_name;\n  document.body.appendChild(documentElem);\n  documentElem.click(); // 点击下载\n  document.body.removeChild(documentElem); // 下载完成移除元素\n  window.URL.revokeObjectURL(href); // 释放掉bl\n}\n\nexport function copyHistoryRMFile(upload_history) {\n  if ( upload_history == null ) {\n    return upload_history;\n  }\n  let upload_history_ = {};\n  Object.values(upload_history).forEach(obj => {\n    let upload_item = deepClone(obj);\n    upload_item.file = null;\n    upload_history_[upload_item.file_id] = upload_item;\n  });\n  return upload_history_;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/public_func.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport serviceStorage from \"./serviceStorage\"\nimport { DownloadChunk } from \"@/network/download\"\nimport { UploadChunk, UploadMerge, UploadRemove } from \"@/network/upload\"\nimport { copyHistoryRMChunks, mergeChunks, copyHistoryRMFile } from \"@/utils/public_func\"\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  strict: process.env.NODE_ENV !== \"production\",\n  state: {\n    browse_params: JSON.parse(serviceStorage.get(serviceStorage.BROWSE_PARAMS)),\n    browse_history: JSON.parse(serviceStorage.get(serviceStorage.BROWSE_HISTORY)),\n    download_history: JSON.parse(serviceStorage.get(serviceStorage.DOWNLOAD_HISTORY)),\n    upload_history: JSON.parse(serviceStorage.get(serviceStorage.UPLOAD_HISTORY))\n  },\n  mutations: {\n    SET_BROWSE_PARAMS(state, params) {\n      state.browse_params = params;\n      serviceStorage.set(serviceStorage.BROWSE_PARAMS, JSON.stringify(params));\n    },\n    SET_BROWSE_HISTORY(state, browse_history) {\n      state.browse_history = browse_history;\n      serviceStorage.set(serviceStorage.BROWSE_HISTORY, JSON.stringify(browse_history));\n    },\n    UPDATE_BROWSE_HISTORY(state, browse_data) {\n      var browse_history = state.browse_history;\n      if (browse_history == null) {\n        browse_history = [browse_data];\n      } else {\n        const idx = browse_history.findIndex(obj => obj.uuid == browse_data.uuid);\n        if (idx != -1) {\n          browse_history.splice(idx, 1, browse_data);\n        } else {\n          browse_history.push(browse_data);\n        }\n      };\n      state.browse_history = browse_history;\n      serviceStorage.set(serviceStorage.BROWSE_HISTORY, JSON.stringify(browse_history));\n    },\n    REMOVE_BROWSE_HISTORY(state, uuid) {\n      var browse_history = state.browse_history;\n      if (browse_history == null) {\n        return;\n      };\n      const idx = browse_history.findIndex(obj => obj.uuid == uuid);\n      if (idx != -1) {\n        browse_history.splice(idx, 1);\n        state.browse_history = browse_history;\n        serviceStorage.set(serviceStorage.BROWSE_HISTORY, JSON.stringify(browse_history));\n      }\n    },\n    CLEAR_BROWSE_HISTORY(state) {\n      state.browse_history = null;\n      serviceStorage.remove(serviceStorage.BROWSE_HISTORY);\n    },\n    UPDATE_DOWNLOAD_HISTORY(state, download_data) {\n      var download_history = state.download_history;\n      if (download_history == null) {\n        download_history = {};\n      }\n      Vue.set(download_history, download_data.uuid, download_data);\n      state.download_history = download_history;\n      var download_history_ = copyHistoryRMChunks(download_history);\n      serviceStorage.set(serviceStorage.DOWNLOAD_HISTORY, JSON.stringify(download_history_));\n    },\n    UPDATE_DOWNLOAD_ITEM(state, params) {\n      var download_history = state.download_history;\n      if (download_history == null) {\n        return;\n      }\n      const {uuid, data} = params;\n      const download_item = download_history[uuid];\n      if (download_item != undefined) {\n        const new_item = {...download_item, ...data};\n        Vue.set(download_history, uuid, new_item);\n      };\n      state.download_history = download_history;\n      var download_history_ = copyHistoryRMChunks(download_history);\n      serviceStorage.set(serviceStorage.DOWNLOAD_HISTORY, JSON.stringify(download_history_));\n    },\n    PAUSE_DOWNLOAD_ITEM(state, uuid) {\n      var download_history = state.download_history;\n      if (download_history == null) {\n        return;\n      };\n      const download_item = download_history[uuid];\n      if (download_item != undefined) {\n        download_item.is_pause = true;\n        state.download_history = download_history;\n        var download_history_ = copyHistoryRMChunks(download_history);\n        serviceStorage.set(serviceStorage.DOWNLOAD_HISTORY, JSON.stringify(download_history_));\n      }\n    },\n    REMOVE_DOWNLOAD_ITEM(state, uuid) {\n      var download_history = state.download_history;\n      if (download_history == null) {\n        return;\n      };\n      const download_item = download_history[uuid];\n      if (download_item != undefined) {\n        Vue.delete(download_history, uuid);\n        state.download_history = download_history;\n        var download_history_ = copyHistoryRMChunks(download_history);\n        serviceStorage.set(serviceStorage.DOWNLOAD_HISTORY, JSON.stringify(download_history_));\n      }\n    },\n    PAUSE_ALL_DOWNLOAD_HISTORY(state) {\n      var download_history = state.download_history;\n      if (download_history == null) {\n        return;\n      };\n      Object.values(download_history).forEach(download_item => {\n        if ( !download_item.merged ) {\n          download_item.is_pause = true;\n        }\n      });\n      state.download_history = download_history;\n      var download_history_ = copyHistoryRMChunks(download_history);\n      serviceStorage.set(serviceStorage.DOWNLOAD_HISTORY, JSON.stringify(download_history_));\n    },\n    CLEAR_DOWNLOAD_HISTORY(state) {\n      state.download_history = null;\n      serviceStorage.remove(serviceStorage.DOWNLOAD_HISTORY);\n    },\n    UPDATE_UPLOAD_HISTORY(state, upload_data) {\n      var upload_history = state.upload_history;\n      if (upload_history == null) {\n        upload_history = {};\n      }\n      Vue.set(upload_history, upload_data.file_id, upload_data);\n      state.upload_history = upload_history;\n      var upload_history_ = copyHistoryRMFile(upload_history);\n      serviceStorage.set(serviceStorage.UPLOAD_HISTORY, JSON.stringify(upload_history_));\n    },\n    UPDATE_UPLOAD_ITEM(state, params) {\n      var upload_history = state.upload_history;\n      if (upload_history == null) {\n        return;\n      }\n      const {file_id, data} = params;\n      const upload_item = upload_history[file_id];\n      if (upload_item != undefined) {\n        const new_item = {...upload_item, ...data};\n        Vue.set(upload_history, file_id, new_item);\n      }\n      state.upload_history = upload_history;\n      var upload_history_ = copyHistoryRMFile(upload_history);\n      serviceStorage.set(serviceStorage.UPLOAD_HISTORY, JSON.stringify(upload_history_));\n    },\n    PAUSE_UPLOAD_ITEM(state, file_id) {\n      var upload_history = state.upload_history;\n      if (upload_history == null) {\n        return;\n      };\n      const upload_item = upload_history[file_id];\n      if (upload_item != undefined) {\n        upload_item.is_pause = true;\n        state.upload_history = upload_history;\n        var upload_history_ = copyHistoryRMFile(upload_history);\n        serviceStorage.set(serviceStorage.UPLOAD_HISTORY, JSON.stringify(upload_history_));\n      }\n    },\n    REMOVE_UPLOAD_ITEM(state, file_id) {\n      var upload_history = state.upload_history;\n      if (upload_history == null) {\n        return;\n      };\n      const upload_item = upload_history[file_id];\n      if (upload_item != undefined) {\n        Vue.delete(upload_history, file_id);\n        state.upload_history = upload_history;\n        var upload_history_ = copyHistoryRMFile(upload_history);\n        serviceStorage.set(serviceStorage.UPLOAD_HISTORY, JSON.stringify(upload_history_));\n      }\n    },\n    PAUSE_ALL_UPLOAD_HISTORY(state) {\n      var upload_history = state.upload_history;\n      if (upload_history == null) {\n        return;\n      };\n      Object.values(upload_history).forEach(upload_item => {\n        if ( !upload_item.merged ) {\n          upload_item.is_pause = true;\n        }\n      });\n      state.upload_history = upload_history;\n      var upload_history_ = copyHistoryRMFile(upload_history);\n      serviceStorage.set(serviceStorage.UPLOAD_HISTORY, JSON.stringify(upload_history_));\n    },\n    CLEAR_UPLOAD_HISTORY(state) {\n      state.upload_history = null;\n      serviceStorage.remove(serviceStorage.UPLOAD_HISTORY);\n    }\n  },\n  actions: {\n    async START_DOWNLOAD_FILE(context, uuid) {\n      // 理应不会进这个判断\n      var download_history = context.state.download_history;\n      if ( download_history == null || download_history[uuid] == undefined ) {\n        return\n      }\n      var download_item = download_history[uuid];\n      context.commit(\"UPDATE_DOWNLOAD_ITEM\", {uuid: uuid, data: {succed_chunks: []}});\n      for (let i = 0; i < download_item.chunk_count; i++) {\n        if ( context.state.download_history[uuid].is_pause ) {\n          return;\n        }\n        const start = i * download_item.chunk_size;\n        const end = Math.min(start + download_item.chunk_size, download_item.file_size);\n        const res = await DownloadChunk(\n          download_item.uuid, download_item.secret_key,\n          download_item.pwd, start, end, i == 0\n        );\n        if ( !res.succed ) {\n          context.commit(\"UPDATE_DOWNLOAD_ITEM\", {uuid: uuid, data: {failed: true, err_msg: res.data}});\n          return;\n        }\n        context.commit(\"UPDATE_DOWNLOAD_ITEM\", {\n          uuid: uuid,\n          data: {\n            succed_chunks: [...context.state.download_history[uuid].succed_chunks, res.data]\n          }\n        });\n      };\n      mergeChunks(context.state.download_history[uuid].succed_chunks, download_item.file_name);\n      context.commit(\"UPDATE_DOWNLOAD_ITEM\", {\n        uuid: uuid, data: {merged: true, succed_chunks: new Array(download_item.chunk_count).fill(0)}\n      });\n    },\n    async REDOWNLOAD_FILE(context, uuid) {\n      // 理应不会进这个判断\n      var download_history = context.state.download_history;\n      if ( download_history == null || download_history[uuid] == undefined ) {\n        return;\n      }\n      var download_item = download_history[uuid];\n      context.commit(\"UPDATE_DOWNLOAD_ITEM\", {uuid: uuid, data: {failed: false, err_msg: \"\", is_pause: false}});\n      for (let i = download_item.succed_chunks.length; i < download_item.chunk_count; i++) {\n        if ( context.state.download_history[uuid].is_pause ) {\n          return;\n        }\n        const start = i * download_item.chunk_size;\n        const end = Math.min(start + download_item.chunk_size, download_item.file_size);\n        const res = await DownloadChunk(\n          download_item.uuid, download_item.secret_key,\n          download_item.pwd, start, end\n        );\n        if ( !res.succed ) {\n          context.commit(\"UPDATE_DOWNLOAD_ITEM\", {uuid: uuid, data: {failed: true, err_msg: res.data}});\n          return;\n        }\n        context.commit(\"UPDATE_DOWNLOAD_ITEM\", {\n          uuid: uuid,\n          data: {\n            succed_chunks: [...context.state.download_history[uuid].succed_chunks, res.data]\n          }\n        });\n      }\n      mergeChunks(context.state.download_history[uuid].succed_chunks, download_item.file_name);\n      context.commit(\"UPDATE_DOWNLOAD_ITEM\", {\n        uuid: uuid, data: {merged: true, succed_chunks: new Array(download_item.chunk_count).fill(0)}\n      });\n    },\n    async START_UPLOAD_FILE(context, file_id) {\n      // 理应不会进这个判断\n      var upload_history = context.state.upload_history;\n      if ( upload_history == null || upload_history[file_id] == undefined ) {\n        return;\n      }\n      var upload_item = upload_history[file_id];\n      if ( upload_item.file == null ) {\n        context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {failed: true, err_msg: \"选择的文件数据丢失\"}});\n        return;\n      }\n      context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {succed_chunks: [], failed: false}});\n      for (let i = 0; i < upload_item.chunk_count; i++) {\n        if ( context.state.upload_history[file_id].is_pause ) {\n          return;\n        }\n        const start = i * upload_item.chunk_size;\n        const end = Math.min(start + upload_item.chunk_size, upload_item.file_size);\n        const chunk = upload_item.file.slice(start, end);\n        const res = await UploadChunk(\n          upload_item.uuid, upload_item.secret_key, upload_item.pwd, chunk,\n          upload_item.file_name, i, upload_item.curr_path, i == 0\n        );\n        if ( !res.succed ) {\n          context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {failed: true, err_msg: res.data}});\n          return;\n        }\n        context.commit(\"UPDATE_UPLOAD_ITEM\", {\n          file_id: file_id,\n          data: {\n            succed_chunks: [...context.state.upload_history[file_id].succed_chunks, i]\n          }\n        });\n      };\n      const res = await UploadMerge(\n        upload_item.uuid, upload_item.secret_key, upload_item.pwd,\n        upload_item.file_name, upload_item.chunk_count, upload_item.curr_path\n      )\n      if ( !res.succed ){\n        context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {failed: true, err_msg: res.data}});\n        return;\n      }\n      context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {merged: true, file: null}});\n    },\n    async REUPLOAD_FILE(context, file_id) {\n      console.log(\"REUPLOAD_FILE...\");\n      var upload_history = context.state.upload_history;\n      if ( upload_history == null || upload_history[file_id] == undefined ) {\n        return;\n      }\n      var upload_item = upload_history[file_id];\n      if ( upload_item.file == null ) {\n        context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {failed: true, err_msg: \"选择的文件数据丢失\"}});\n        return;\n      }\n      context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {failed: false, err_msg: \"\", is_pause: false}});\n      for (let i = upload_item.succed_chunks.length; i < upload_item.chunk_count; i++) {\n        if ( context.state.upload_history[file_id].is_pause ) {\n          return;\n        }\n        const start = i * upload_item.chunk_size;\n        const end = Math.min(start + upload_item.chunk_size, upload_item.file_size);\n        const chunk = upload_item.file.slice(start, end);\n        const res = await UploadChunk(\n          upload_item.uuid, upload_item.secret_key, upload_item.pwd, chunk,\n          upload_item.file_name, i, upload_item.curr_path, i == 0\n        );\n        if ( !res.succed ) {\n          context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {failed: true, err_msg: res.data}});\n          return;\n        }\n        context.commit(\"UPDATE_UPLOAD_ITEM\", {\n          file_id: file_id,\n          data: {\n            succed_chunks: [...context.state.upload_history[file_id].succed_chunks, i]\n          }\n        });\n      };\n      const res = await UploadMerge(\n        upload_item.uuid, upload_item.secret_key, upload_item.pwd,\n        upload_item.file_name, upload_item.chunk_count, upload_item.curr_path\n      )\n      if ( !res.succed ){\n        context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {failed: true, err_msg: res.data}});\n        return;\n      }\n      context.commit(\"UPDATE_UPLOAD_ITEM\", {file_id: file_id, data: {merged: true, file: null}});\n    },\n    async REMOVE_UPLOAD_FILE(context, file_id) {\n      var upload_history = context.state.upload_history;\n      if ( upload_history == null || upload_history[file_id] == undefined ) {\n        return;\n      }\n      var upload_item = upload_history[file_id];\n      if ( !upload_item.merged && upload_item.succed_chunks.length != 0 ) {\n        await UploadRemove(\n          upload_item.uuid, upload_item.secret_key, upload_item.pwd,\n          upload_item.file_name, upload_item.curr_path\n        );\n      }\n      context.commit(\"REMOVE_UPLOAD_ITEM\", upload_item.file_id);\n    }\n  },\n  getters: {\n    download_list: state => {\n      return state.download_history ? Object.values(state.download_history) : [];\n    },\n    upload_list: state => {\n      return state.upload_history ? Object.values(state.upload_history) : [];\n    }\n  },\n  modules: {}\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport 'element-ui/lib/theme-chalk/index.css';\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport '@/assets/css/base.css'\nimport {\n  Menu,\n  MenuItem,\n  Container,\n  Header,\n  Aside,\n  Main,\n  Button,\n  ButtonGroup,\n  Table,\n  TableColumn,\n  Alert,\n  Icon,\n  Progress,\n  MessageBox,\n  Message,\n  Loading\n} from 'element-ui';\n\nVue.config.productionTip = false\nVue.use(Menu);\nVue.use(MenuItem);\nVue.use(Container);\nVue.use(Header);\nVue.use(Aside);\nVue.use(Main);\nVue.use(Button);\nVue.use(ButtonGroup);\nVue.use(Table);\nVue.use(TableColumn);\nVue.use(Alert);\nVue.use(Icon);\nVue.use(Progress);\nVue.use(MessageBox);\nVue.use(Message);\nVue.use(Loading);\nVue.prototype.$alert = MessageBox.alert;\nVue.prototype.$prompt = MessageBox.prompt;\nVue.prototype.$confirm = MessageBox.confirm;\nVue.prototype.$message = Message;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}
